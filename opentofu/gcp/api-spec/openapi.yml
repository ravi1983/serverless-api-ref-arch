swagger: "2.0"
info:
  title: "Cart API"
  description: "API for Cart Function with specific payloads"
  version: "1.0.0"
schemes:
  - "https"
paths:
  /cart:
    options:
      summary: "CORS support"
      operationId: "corsCart"
      x-google-backend:
        address: ${FUNCTION_URL}
        jwt_audience: ${FUNCTION_URL}
      responses:
        204:
          description: "No Content"
          headers:
            Access-Control-Allow-Origin:
              type: "string"
            Access-Control-Allow-Methods:
              type: "string"
            Access-Control-Allow-Headers:
              type: "string"
    get:
      summary: "Get cart items for a user"
      operationId: "getCart"
      x-google-backend:
        address: ${FUNCTION_URL}
        path_translation: CONSTANT_ADDRESS
        jwt_audience: ${FUNCTION_URL}
      parameters:
        - name: "userId"
          in: "query"
          required: true
          type: "string"
      responses:
        200:
          description: "Success"
    post:
      summary: "Add item to cart"
      operationId: "postCart"
      x-google-backend:
        address: ${FUNCTION_URL}
        path_translation: CONSTANT_ADDRESS
        jwt_audience: ${FUNCTION_URL}
      parameters:
        - name: "userId"
          in: "query"
          required: true
          type: "string"
        - name: "item"
          in: "body"
          required: true
          schema:
            type: "object"
            properties:
              itemId:
                type: "string"
      responses:
        201:
          description: "Created"
    delete:
      summary: "Remove item from cart"
      operationId: "deleteCart"
      x-google-backend:
        address: ${FUNCTION_URL}
        path_translation: CONSTANT_ADDRESS
        jwt_audience: ${FUNCTION_URL}
      parameters:
        - name: "userId"
          in: "query"
          required: true
          type: "string"
        - name: "item"
          in: "body"
          required: true
          schema:
            type: "object"
            properties:
              itemId:
                type: "string"
      responses:
        204:
          description: "Deleted"